<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>Convite Interativo</title>

<style>
:root {
    --btn-bg: #ffffff;
    --btn-color: #000000;
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    overflow: hidden;
    background: #000;
    font-family: Arial, sans-serif;
}

.page {
    position: fixed;
    inset: 0;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.6s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #000;
}

.page.active {
    opacity: 1;
    pointer-events: auto;
}

img, video {
    width: 100%;
    height: 100%;
    object-fit: contain; /* evita cortes */
}

.btn {
    position: absolute;
    bottom: 32px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--btn-bg);
    color: var(--btn-color);
    padding: 14px 26px;
    border-radius: 14px;
    font-size: 18px;
    cursor: pointer;
    font-weight: bold;
    user-select: none;
}

.btn:active {
    transform: translateX(-50%) scale(0.97);
}

.btn-small {
    padding: 10px 18px;
    font-size: 16px;
}

.safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
}
</style>
</head>

<body>

<!-- ÁUDIO (inicia somente após interação) -->
<audio id="bgMusic" loop preload="none">
    <source src="audio.mp3" type="audio/mpeg">
</audio>

<!-- PÁGINA 1 – CAPA -->
<div id="page1" class="page active">
    <img src="capa.png" id="capaImg" alt="Capa do convite" style="cursor:pointer;" />
</div>

<!-- PÁGINA 2 – VÍDEO -->
<div id="page2" class="page">
    <video id="mainVideo" playsinline webkit-playsinline muted preload="metadata">
        <source src="video.mp4" type="video/mp4">
    </video>

    <div class="btn safe-bottom" onclick="goToPage(3)">Abrir Página 3</div>
</div>

<!-- PÁGINA 3 -->
<div id="page3" class="page">
    <div class="btn btn-small safe-bottom" onclick="openPDF('pagina3.pdf')">Abrir PDF Página 3</div>
    <div class="btn btn-small" style="bottom:90px;" onclick="goToPage(4)">Ir para Página 4</div>
</div>

<!-- PÁGINA 4 -->
<div id="page4" class="page">
    <div class="btn btn-small safe-bottom" onclick="openPDF('pagina4.pdf')">Abrir PDF Página 4</div>
    <div class="btn btn-small" style="bottom:90px;" onclick="goToPage(1)">Voltar ao início</div>
</div>

<script>
const pages = document.querySelectorAll('.page');
const audio = document.getElementById('bgMusic');
const video = document.getElementById('mainVideo');

function goToPage(num) {
    pages.forEach(p => p.classList.remove('active'));
    const page = document.getElementById('page' + num);
    if (page) page.classList.add('active');

    // pausa vídeo quando sai da página 2
    if (num !== 2 && video) {
        video.pause();
    }
}

// Clique na capa
const capa = document.getElementById('capaImg');
if (capa) {
    capa.addEventListener('click', () => {
        goToPage(2);

        // áudio
        audio.play().catch(() => {});

        // vídeo
        setTimeout(() => {
            video.play().catch(() => {
                document.body.addEventListener('click', () => {
                    video.play().catch(()=>{});
                }, { once: true });
            });
        }, 200);
    });
}

function openPDF(file) {
    window.open(file, '_blank');
}
</script>

</body>
</html>
